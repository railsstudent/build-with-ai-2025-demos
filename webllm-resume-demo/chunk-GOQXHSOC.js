import{a as sn,h as pi,l as J,m as _i,n as Ci,o as yi,q as qe,r as Ei,s as vi}from"./chunk-7LIK5GOD.js";import{a as Ai}from"./chunk-UFW4LOUU.js";import{$ as Fe,$a as Et,Aa as b,Ab as mi,Ca as si,Cb as gi,Da as ai,Db as ue,Ea as pt,Eb as fe,Gb as Mt,H as ni,Ha as B,Ia as nn,J as ii,Ja as Q,L as Jt,La as de,Ma as Ge,N as ke,O as xe,Oa as li,P as en,R as oe,Ta as P,U as A,Ua as ci,Va as He,Wa as _t,Xa as Ct,Ya as yt,Za as m,_ as ri,_a as h,a as U,aa as Pe,b as $,ba as mt,cb as vt,da as tn,db as H,eb as ae,fb as At,ga as gt,gb as je,h as Xn,i as Zn,ja as oi,ka as se,kb as di,l as Jn,la as Ue,lb as ui,ma as L,mb as rn,nb as _,ob as ie,pb as on,q as ei,qb as Y,rb as X,sb as Z,tb as bt,ub as We,w as ti,wa as p,wb as fi,xb as hi,za as Be}from"./chunk-7XO67NS5.js";var wi=(()=>{class e{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,i){this._renderer=t,this._elementRef=i}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(i){return new(i||e)(b(Be),b(Ue))};static \u0275dir=Q({type:e})}return e})(),un=(()=>{class e extends wi{static \u0275fac=(()=>{let t;return function(o){return(t||(t=mt(e)))(o||e)}})();static \u0275dir=Q({type:e,features:[de]})}return e})(),Lt=new oe("");var Pr={provide:Lt,useExisting:ke(()=>Me),multi:!0};function Ur(){let e=sn()?sn().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}var Br=new oe(""),Me=(()=>{class e extends wi{_compositionMode;_composing=!1;constructor(t,i,o){super(t,i),this._compositionMode=o,this._compositionMode==null&&(this._compositionMode=!Ur())}writeValue(t){let i=t??"";this.setProperty("value",i)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(i){return new(i||e)(b(Be),b(Ue),b(Br,8))};static \u0275dir=Q({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,o){i&1&&H("input",function(d){return o._handleInput(d.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(d){return o._compositionEnd(d.target.value)})},standalone:!1,features:[We([Pr]),de]})}return e})();var Gr=new oe(""),Hr=new oe("");function Oi(e){return e!=null}function Vi(e){return li(e)?Jn(e):e}function Ri(e){let n={};return e.forEach(t=>{n=t!=null?U(U({},n),t):n}),Object.keys(n).length===0?null:n}function ki(e,n){return n.map(t=>t(e))}function jr(e){return!e.validate}function xi(e){return e.map(n=>jr(n)?n:t=>n.validate(t))}function Wr(e){if(!e)return null;let n=e.filter(Oi);return n.length==0?null:function(t){return Ri(ki(t,n))}}function Fi(e){return e!=null?Wr(xi(e)):null}function qr(e){if(!e)return null;let n=e.filter(Oi);return n.length==0?null:function(t){let i=ki(t,n).map(Vi);return ti(i).pipe(ei(Ri))}}function Pi(e){return e!=null?qr(xi(e)):null}function bi(e,n){return e===null?[n]:Array.isArray(e)?[...e,n]:[e,n]}function Kr(e){return e._rawValidators}function zr(e){return e._rawAsyncValidators}function an(e){return e?Array.isArray(e)?e:[e]:[]}function It(e,n){return Array.isArray(e)?e.includes(n):e===n}function Mi(e,n){let t=an(n);return an(e).forEach(o=>{It(t,o)||t.push(o)}),t}function Di(e,n){return an(n).filter(t=>!It(e,t))}var Tt=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=Fi(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=Pi(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n=void 0){this.control&&this.control.reset(n)}hasError(n,t){return this.control?this.control.hasError(n,t):!1}getError(n,t){return this.control?this.control.getError(n,t):null}},ln=class extends Tt{name;get formDirective(){return null}get path(){return null}},Ye=class extends Tt{_parent=null;name=null;valueAccessor=null},cn=class{_cd;constructor(n){this._cd=n}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},$r={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Ts=$(U({},$r),{"[class.ng-submitted]":"isSubmitted"}),De=(()=>{class e extends cn{constructor(t){super(t)}static \u0275fac=function(i){return new(i||e)(b(Ye,2))};static \u0275dir=Q({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,o){i&2&&ci("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},standalone:!1,features:[de]})}return e})();var Ke="VALID",Dt="INVALID",ve="PENDING",ze="DISABLED",be=class{},St=class extends be{value;source;constructor(n,t){super(),this.value=n,this.source=t}},$e=class extends be{pristine;source;constructor(n,t){super(),this.pristine=n,this.source=t}},Qe=class extends be{touched;source;constructor(n,t){super(),this.touched=n,this.source=t}},Ae=class extends be{status;source;constructor(n,t){super(),this.status=n,this.source=t}};function Qr(e){return(Nt(e)?e.validators:e)||null}function Yr(e){return Array.isArray(e)?Fi(e):e||null}function Xr(e,n){return(Nt(n)?n.asyncValidators:e)||null}function Zr(e){return Array.isArray(e)?Pi(e):e||null}function Nt(e){return e!=null&&!Array.isArray(e)&&typeof e=="object"}var dn=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(n,t){this._assignValidators(n),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get status(){return ue(this.statusReactive)}set status(n){ue(()=>this.statusReactive.set(n))}_status=fe(()=>this.statusReactive());statusReactive=L(void 0);get valid(){return this.status===Ke}get invalid(){return this.status===Dt}get pending(){return this.status==ve}get disabled(){return this.status===ze}get enabled(){return this.status!==ze}errors;get pristine(){return ue(this.pristineReactive)}set pristine(n){ue(()=>this.pristineReactive.set(n))}_pristine=fe(()=>this.pristineReactive());pristineReactive=L(!0);get dirty(){return!this.pristine}get touched(){return ue(this.touchedReactive)}set touched(n){ue(()=>this.touchedReactive.set(n))}_touched=fe(()=>this.touchedReactive());touchedReactive=L(!1);get untouched(){return!this.touched}_events=new Xn;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._assignValidators(n)}setAsyncValidators(n){this._assignAsyncValidators(n)}addValidators(n){this.setValidators(Mi(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(Mi(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(Di(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(Di(n,this._rawAsyncValidators))}hasValidator(n){return It(this._rawValidators,n)}hasAsyncValidator(n){return It(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){let t=this.touched===!1;this.touched=!0;let i=n.sourceControl??this;this._parent&&!n.onlySelf&&this._parent.markAsTouched($(U({},n),{sourceControl:i})),t&&n.emitEvent!==!1&&this._events.next(new Qe(!0,i))}markAllAsTouched(n={}){this.markAsTouched({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(n))}markAsUntouched(n={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let i=n.sourceControl??this;this._forEachChild(o=>{o.markAsUntouched({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:i})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n,i),t&&n.emitEvent!==!1&&this._events.next(new Qe(!1,i))}markAsDirty(n={}){let t=this.pristine===!0;this.pristine=!1;let i=n.sourceControl??this;this._parent&&!n.onlySelf&&this._parent.markAsDirty($(U({},n),{sourceControl:i})),t&&n.emitEvent!==!1&&this._events.next(new $e(!1,i))}markAsPristine(n={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let i=n.sourceControl??this;this._forEachChild(o=>{o.markAsPristine({onlySelf:!0,emitEvent:n.emitEvent})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n,i),t&&n.emitEvent!==!1&&this._events.next(new $e(!0,i))}markAsPending(n={}){this.status=ve;let t=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new Ae(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.markAsPending($(U({},n),{sourceControl:t}))}disable(n={}){let t=this._parentMarkedDirty(n.onlySelf);this.status=ze,this.errors=null,this._forEachChild(o=>{o.disable($(U({},n),{onlySelf:!0}))}),this._updateValue();let i=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new St(this.value,i)),this._events.next(new Ae(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors($(U({},n),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(o=>o(!0))}enable(n={}){let t=this._parentMarkedDirty(n.onlySelf);this.status=Ke,this._forEachChild(i=>{i.enable($(U({},n),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors($(U({},n),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(n,t){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ke||this.status===ve)&&this._runAsyncValidator(i,n.emitEvent)}let t=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new St(this.value,t)),this._events.next(new Ae(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity($(U({},n),{sourceControl:t}))}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ze:Ke}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n,t){if(this.asyncValidator){this.status=ve,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let i=Vi(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(o=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(o,{emitEvent:t,shouldHaveEmitted:n})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let n=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,n}return!1}setErrors(n,t={}){this.errors=n,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(n){let t=n;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((i,o)=>i&&i._find(o),this)}getError(n,t){let i=t?this.get(t):this;return i&&i.errors?i.errors[n]:null}hasError(n,t){return!!this.getError(n,t)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n,t,i){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),(n||i)&&this._events.next(new Ae(this.status,t)),this._parent&&this._parent._updateControlsErrors(n,t,i)}_initObservables(){this.valueChanges=new gt,this.statusChanges=new gt}_calculateStatus(){return this._allControlsDisabled()?ze:this.errors?Dt:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ve)?ve:this._anyControlsHaveStatus(Dt)?Dt:Ke}_anyControlsHaveStatus(n){return this._anyControls(t=>t.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n,t){let i=!this._anyControlsDirty(),o=this.pristine!==i;this.pristine=i,this._parent&&!n.onlySelf&&this._parent._updatePristine(n,t),o&&this._events.next(new $e(this.pristine,t))}_updateTouched(n={},t){this.touched=this._anyControlsTouched(),this._events.next(new Qe(this.touched,t)),this._parent&&!n.onlySelf&&this._parent._updateTouched(n,t)}_onDisabledChange=[];_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){Nt(n)&&n.updateOn!=null&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){let t=this._parent&&this._parent.dirty;return!n&&!!t&&!this._parent._anyControlsDirty()}_find(n){return null}_assignValidators(n){this._rawValidators=Array.isArray(n)?n.slice():n,this._composedValidatorFn=Yr(this._rawValidators)}_assignAsyncValidators(n){this._rawAsyncValidators=Array.isArray(n)?n.slice():n,this._composedAsyncValidatorFn=Zr(this._rawAsyncValidators)}};var Ui=new oe("",{providedIn:"root",factory:()=>fn}),fn="always";function Jr(e,n){return[...n.path,e]}function eo(e,n,t=fn){no(e,n),n.valueAccessor.writeValue(e.value),(e.disabled||t==="always")&&n.valueAccessor.setDisabledState?.(e.disabled),io(e,n),oo(e,n),ro(e,n),to(e,n)}function Ii(e,n){e.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(n)})}function to(e,n){if(n.valueAccessor.setDisabledState){let t=i=>{n.valueAccessor.setDisabledState(i)};e.registerOnDisabledChange(t),n._registerOnDestroy(()=>{e._unregisterOnDisabledChange(t)})}}function no(e,n){let t=Kr(e);n.validator!==null?e.setValidators(bi(t,n.validator)):typeof t=="function"&&e.setValidators([t]);let i=zr(e);n.asyncValidator!==null?e.setAsyncValidators(bi(i,n.asyncValidator)):typeof i=="function"&&e.setAsyncValidators([i]);let o=()=>e.updateValueAndValidity();Ii(n._rawValidators,o),Ii(n._rawAsyncValidators,o)}function io(e,n){n.valueAccessor.registerOnChange(t=>{e._pendingValue=t,e._pendingChange=!0,e._pendingDirty=!0,e.updateOn==="change"&&Bi(e,n)})}function ro(e,n){n.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,e.updateOn==="blur"&&e._pendingChange&&Bi(e,n),e.updateOn!=="submit"&&e.markAsTouched()})}function Bi(e,n){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function oo(e,n){let t=(i,o)=>{n.valueAccessor.writeValue(i),o&&n.viewToModelUpdate(i)};e.registerOnChange(t),n._registerOnDestroy(()=>{e._unregisterOnChange(t)})}function so(e,n){if(!e.hasOwnProperty("model"))return!1;let t=e.model;return t.isFirstChange()?!0:!Object.is(n,t.currentValue)}function ao(e){return Object.getPrototypeOf(e.constructor)===un}function lo(e,n){if(!n)return null;Array.isArray(n);let t,i,o;return n.forEach(a=>{a.constructor===Me?t=a:ao(a)?i=a:o=a}),o||i||t||null}function Ti(e,n){let t=e.indexOf(n);t>-1&&e.splice(t,1)}function Si(e){return typeof e=="object"&&e!==null&&Object.keys(e).length===2&&"value"in e&&"disabled"in e}var co=class extends dn{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(n=null,t,i){super(Qr(t),Xr(i,t)),this._applyFormState(n),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Nt(t)&&(t.nonNullable||t.initialValueIsDefault)&&(Si(n)?this.defaultValue=n.value:this.defaultValue=n)}setValue(n,t={}){this.value=this._pendingValue=n,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(n,t={}){this.setValue(n,t)}reset(n=this.defaultValue,t={}){this._applyFormState(n),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){Ti(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){Ti(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(n){Si(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}};var uo={provide:Ye,useExisting:ke(()=>he)},Li=Promise.resolve(),he=(()=>{class e extends Ye{_changeDetectorRef;callSetDisabledState;control=new co;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new gt;constructor(t,i,o,a,d,y){super(),this._changeDetectorRef=d,this.callSetDisabledState=y,this._parent=t,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=lo(this,a)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),so(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){eo(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){Li.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let i=t.isDisabled.currentValue,o=i!==0&&gi(i);Li.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?Jr(t,this._parent):[t]}static \u0275fac=function(i){return new(i||e)(b(ln,9),b(Gr,10),b(Hr,10),b(Lt,10),b(mi,8),b(Ui,8))};static \u0275dir=Q({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[We([uo]),de,ri]})}return e})();var fo={provide:Lt,useExisting:ke(()=>wt),multi:!0};function Gi(e,n){return e==null?`${n}`:(n&&typeof n=="object"&&(n="Object"),`${e}: ${n}`.slice(0,50))}function ho(e){return e.split(":")[0]}var wt=(()=>{class e extends un{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;writeValue(t){this.value=t;let i=this._getOptionId(t),o=Gi(i,t);this.setProperty("value",o)}registerOnChange(t){this.onChange=i=>{this.value=this._getOptionValue(i),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),t))return i;return null}_getOptionValue(t){let i=ho(t);return this._optionMap.has(i)?this._optionMap.get(i):t}static \u0275fac=(()=>{let t;return function(o){return(t||(t=mt(e)))(o||e)}})();static \u0275dir=Q({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,o){i&1&&H("change",function(d){return o.onChange(d.target.value)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[We([fo]),de]})}return e})(),Hi=(()=>{class e{_element;_renderer;_select;id;constructor(t,i,o){this._element=t,this._renderer=i,this._select=o,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(Gi(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(i){return new(i||e)(b(Ue),b(Be),b(wt,9))};static \u0275dir=Q({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return e})(),mo={provide:Lt,useExisting:ke(()=>ji),multi:!0};function Ni(e,n){return e==null?`${n}`:(typeof n=="string"&&(n=`'${n}'`),n&&typeof n=="object"&&(n="Object"),`${e}: ${n}`.slice(0,50))}function go(e){return e.split(":")[0]}var ji=(()=>{class e extends un{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;writeValue(t){this.value=t;let i;if(Array.isArray(t)){let o=t.map(a=>this._getOptionId(a));i=(a,d)=>{a._setSelected(o.indexOf(d.toString())>-1)}}else i=(o,a)=>{o._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(t){this.onChange=i=>{let o=[],a=i.selectedOptions;if(a!==void 0){let d=a;for(let y=0;y<d.length;y++){let q=d[y],ee=this._getOptionValue(q.value);o.push(ee)}}else{let d=i.options;for(let y=0;y<d.length;y++){let q=d[y];if(q.selected){let ee=this._getOptionValue(q.value);o.push(ee)}}}this.value=o,t(o)}}_registerOption(t){let i=(this._idCounter++).toString();return this._optionMap.set(i,t),i}_getOptionId(t){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,t))return i;return null}_getOptionValue(t){let i=go(t);return this._optionMap.has(i)?this._optionMap.get(i)._value:t}static \u0275fac=(()=>{let t;return function(o){return(t||(t=mt(e)))(o||e)}})();static \u0275dir=Q({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,o){i&1&&H("change",function(d){return o.onChange(d.target)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[We([mo]),de]})}return e})(),Wi=(()=>{class e{_element;_renderer;_select;id;_value;constructor(t,i,o){this._element=t,this._renderer=i,this._select=o,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(Ni(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(Ni(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(i){return new(i||e)(b(Ue),b(Be),b(ji,9))};static \u0275dir=Q({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return e})();var po=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=nn({type:e});static \u0275inj=en({})}return e})();var Ie=(()=>{class e{static withConfig(t){return{ngModule:e,providers:[{provide:Ui,useValue:t.callSetDisabledState??fn}]}}static \u0275fac=function(i){return new(i||e)};static \u0275mod=nn({type:e});static \u0275inj=en({imports:[po]})}return e})();var re=new oe("LLM_MODEL_LIST"),_o=[{model:"",name:""},{model:"gemma-2-2b-it-q4f32_1-MLC",name:"gemma-2-2b-it"},{model:"gemma-2-9b-it-q4f32_1-MLC",name:"gemma-2-9b-it"},{model:"Llama-3.2-3B-Instruct-q4f32_1-MLC",name:"Llama-3.2-3B-Instruct"},{model:"Mistral-7B-Instruct-v0.3-q4f32_1-MLC",name:"Mistral-7B-Instruct-v0.3"}],Co=[{model:"",name:""},{model:"Qwen2-Math-7B-Instruct-q4f32_1-MLC",name:"Qwen2-Math-7B-Instruct"},{model:"Qwen2.5-Math-1.5B-Instruct-q4f32_1-MLC",name:"Qwen2.5-Math-1.5B-Instruct"},{model:"WizardMath-7B-V1.1-q4f16_1-MLC",name:"WizardMath-7B-V1.1-q4f16_1-MLC"}],yo=[{model:"",name:""},{model:"Qwen2.5-Coder-1.5B-Instruct-q4f32_1-MLC",name:"Qwen2.5-Coder-1.5B-Instruct"},{model:"Qwen2.5-Coder-3B-Instruct-q4f32_1-MLC",name:"Qwen2.5-Coder-3B-Instruct"},{model:"Qwen2.5-Coder-7B-Instruct-q4f32_1-MLC",name:"Qwen2.5-Coder-7B-Instruct"}],ws={provide:re,useValue:_o},Os={provide:re,useValue:Co},Vs={provide:re,useValue:yo};var Te=class e{#e=L(0);#t=L({value:""});progress=this.#e.asReadonly();engineError=L("");appConfigService=A(Ai);#n=A(J).isLoading;createProgressResource(n){return Mt({stream:async()=>this.#t,injector:n}).asReadonly()}async#i(n){try{if(!n)return;let t={appConfig:this.appConfigService.appConfig,initProgressCallback:i=>{this.#e.set(i.progress),this.#t.set({value:i.text})}};return await vi(n,t)}catch(t){console.error("Failed to load MLC engine",t),t instanceof Error?this.engineError.set(t.message):this.engineError.set(`Failed to load MLC engine: ${n}`);return}}createEngine(n,t){return Ci(n,{injector:t}).pipe(Jt(()=>{this.engineError.set(""),this.#n.set(!0)}),ii(async({model:i})=>this.#i(i)),Jt(i=>{console.log("Loaded engine",i),this.#n.set(!1)}),ni({bufferSize:1,refCount:!0}))}static \u0275fac=function(t){return new(t||e)};static \u0275prov=xe({token:e,factory:e.\u0275fac,providedIn:"root"})};function Eo(e,n){if(e&1&&(m(0,"li"),_(1),h()),e&2){let t=n.$implicit;p(),ie(t)}}function vo(e,n){if(e&1&&(m(0,"h3"),_(1,"Cached Models"),h(),m(2,"ol"),Ct(3,Eo,2,1,"li",null,_t),h()),e&2){let t=ae();p(3),yt(t.cacheModelIds())}}var Ot=class e{allModels=se([]);cacheModelIds=se.required();static \u0275fac=function(t){return new(t||e)};static \u0275cmp=B({type:e,selectors:[["app-llm-cached-model-list"]],inputs:{allModels:[1,"allModels"],cacheModelIds:[1,"cacheModelIds"]},decls:1,vars:1,template:function(t,i){t&1&&Ge(0,vo,5,0),t&2&&He(i.cacheModelIds().length>0?0:-1)},encapsulation:2,changeDetection:0})};var Ao=["*"];function bo(e,n){e&1&&_(0,"Models: ")}function Mo(e,n){if(e&1&&(bt(0),m(1,"option",3),_(2),h()),e&2){let t=n.$implicit,i=t.name?t.name:"-------";p(),P("ngValue",t),p(),ie(i)}}var Se=class e{engineService=A(Te);isLoading=A(J).isLoading;models=A(re);selectedModel=pt.required();static \u0275fac=function(t){return new(t||e)};static \u0275cmp=B({type:e,selectors:[["app-llm-select-model"]],inputs:{selectedModel:[1,"selectedModel"]},outputs:{selectedModel:"selectedModelChange"},ngContentSelectors:Ao,decls:7,vars:2,consts:[[2,"margin-bottom","0.5rem"],["for","models"],["id","models","name","models",3,"ngModelChange","ngModel","disabled"],[3,"ngValue"]],template:function(t,i){t&1&&(At(),m(0,"div",0)(1,"label",1),je(2,0,null,bo,1,0),h(),m(4,"select",2),Z("ngModelChange",function(a){return X(i.selectedModel,a)||(i.selectedModel=a),a}),Ct(5,Mo,3,2,"option",3,_t),h()()),t&2&&(p(4),Y("ngModel",i.selectedModel),P("disabled",i.isLoading()),p(),yt(i.models))},dependencies:[Ie,Hi,Wi,wt,De,he],encapsulation:2,changeDetection:0})};var Vt=class e{models=A(re);isLoading=A(J).isLoading;selectedModel=L(this.models[0]);engine=se(void 0);cacheChanged=oi();async deleteModelFromCache(){try{this.isLoading.set(!0);let n=this.selectedModel();if(!n)return;await this.#e(n.model)}finally{this.isLoading.set(!1)}}async#e(n){await qe(n)&&(await Ei(n),console.log(`Delete ${n} from the cache`),this.cacheChanged.emit(n))}async deleteAllModelsFomCache(){try{this.isLoading.set(!0);let n=this.models.map(({model:t})=>this.#e(t));await Promise.allSettled(n),await this.engine()?.unload()}finally{this.isLoading.set(!1)}}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=B({type:e,selectors:[["app-llm-delete-cache"]],inputs:{engine:[1,"engine"]},outputs:{cacheChanged:"cacheChanged"},decls:8,vars:3,consts:[[1,"layout"],[1,"delete-dropdown"],[3,"selectedModelChange","selectedModel"],[3,"click","disabled"]],template:function(t,i){t&1&&(m(0,"div",0)(1,"div",1)(2,"app-llm-select-model",2),Z("selectedModelChange",function(a){return X(i.selectedModel,a)||(i.selectedModel=a),a}),_(3," Delete from cache: "),h(),m(4,"button",3),H("click",function(){return i.deleteModelFromCache()}),_(5,"Delete"),h()(),m(6,"button",3),H("click",function(){return i.deleteAllModelsFomCache()}),_(7,"Delete all models"),h()()),t&2&&(p(2),Y("selectedModel",i.selectedModel),p(2),P("disabled",i.isLoading()),p(2),P("disabled",i.isLoading()))},dependencies:[Se],styles:["div.layout[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:flex-start}div.layout[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{flex:0 1 33.3333333333%;align-items:flex-start}div.delete-dropdown[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;column-gap:.5rem;margin-bottom:0;margin-right:1rem}"],changeDetection:0})};function Do(e,n){if(e&1&&(m(0,"div")(1,"label",1),_(2,"Engine Error:\xA0\xA0"),h(),m(3,"span",2),_(4),h()()),e&2){let t=ae();p(4),ie(t.engineError())}}function Io(e,n){if(e&1&&(m(0,"p",3),_(1),h()),e&2){let t=ae(2);p(),on("Error: ",t.progressResource.error(),"")}}function To(e,n){if(e&1&&(m(0,"p"),_(1),h()),e&2){let t=ae(2);p(),on("Download Model Progress: ",t.progressResource.value(),"")}}function So(e,n){if(e&1){let t=vt();Ge(0,Io,2,1,"p",3)(1,To,2,1,"p"),m(2,"app-llm-delete-cache",4),fi(3,"async"),H("cacheChanged",function(o){Fe(t);let a=ae();return Pe(a.deletedModel.set(o))}),h(),Et(4,"app-llm-cached-model-list",5)}if(e&2){let t=ae();He(t.progressResource.error()?0:t.progressResource.hasValue()?1:-1),p(2),P("engine",hi(3,4,t.engine$)),p(2),P("allModels",t.models)("cacheModelIds",t.cachedModelIdsResource.value())}}var qi=class e{injector=A(tn);engineService=A(Te);models=A(re);selectedModel=L(this.models[0]);deletedModel=L("");#e=L([]);cachedModelIdsResource=Mt({request:()=>({progress:this.progress(),selectedModel:this.selectedModel(),deletedModel:this.deletedModel()}),loader:async({request:n})=>{let t=n.progress,i=n.selectedModel.model,o=n.deletedModel,a=o?await qe(o):!1;return t===1&&(i&&await qe(i))&&!this.#e().includes(i)&&this.#e.update(y=>[...y,i]),!a&&this.#e().includes(o)&&this.#e.update(d=>d.filter(y=>y!==o)),this.#e()},defaultValue:[]});progressResource=this.engineService.createProgressResource(this.injector);progress=this.engineService.progress;engine$=this.engineService.createEngine(this.selectedModel,this.injector);engineError=this.engineService.engineError;selectedEngine=_i(this.engine$);static \u0275fac=function(t){return new(t||e)};static \u0275cmp=B({type:e,selectors:[["app-llm-cache-usage"]],outputs:{selectedEngine:"selectedEngine"},decls:3,vars:2,consts:[[3,"selectedModelChange","selectedModel"],["for","error"],["id","error","name","error",1,"error"],[1,"error"],[3,"cacheChanged","engine"],[3,"allModels","cacheModelIds"]],template:function(t,i){t&1&&(m(0,"app-llm-select-model",0),Z("selectedModelChange",function(a){return X(i.selectedModel,a)||(i.selectedModel=a),a}),h(),Ge(1,Do,5,1,"div")(2,So,5,6)),t&2&&(Y("selectedModel",i.selectedModel),p(),He(i.engineError()?1:2))},dependencies:[Se,Vt,pi,Ot],encapsulation:2,changeDetection:0})};var Rt=class e{#e=new Zn(`Connie Leung
(555) 123-4567 | connie.leung@email.com | linkedin.com/in/connieleung | github.com/connieleung | connieleung.portfolio.com

Summary
Highly motivated and results-oriented Frontend Engineer with 6+ years of experience specializing in building and maintaining responsive, user-friendly web applications. Proficient in modern JavaScript frameworks, particularly Vue 3 and Nuxt.js, with a strong understanding of core web technologies including HTML, CSS, and JavaScript/TypeScript. Passionate about clean code, performance optimization, and delivering exceptional user experiences. Experienced in collaborative Agile environments and eager to contribute to innovative projects. Quick learner with a demonstrated ability to adapt to new technologies and challenges, including a recent focus on serverless architectures.

Skills
- Languages: JavaScript (ES6+), TypeScript, HTML5, CSS3
- Frameworks/Libraries: Vue 2, Vue 3 (Composition API, Composable, Vue Router), React, Redux
- Meta Frameworks: Nuxt.js, Next.js
- UI Frameworks/Libraries: Quasar, Material-UI
- Styling: Tailwind CSS, SCSS, CSS Modules, Styled Components, Bootstrap
- State Management: Pinia, Redux, VueX
- Build Tools/Package Managers: Vite, NPM
- Testing: Jest, Vitest, Cypress, Playwright
- Version Control: Git (GitHub, GitLab)
- Responsive Design: Mobile-First Development, Media Queries, Container Queries
- Accessibility: WCAG 2.1 guidelines, ARIA attributes
- Other: RESTful APIs, JSON, Agile methodologies (Scrum, Kanban), CI/CD (GitHub Actions), Figma, Serverless Functions
- Deployment:  Github Page, Netlify

Experience
Innovate Solutions, Hong Kong \u2013 Senior Frontend Engineer 2023 \u2013 Present
- Led the development of a new marketing website using Nuxt.js 3 and TypeScript, resulting in a 20% increase in lead generation.
- Implemented serverless functions for form submissions and data processing, improving scalability and reducing costs.
- Mentored junior developers and provided technical guidance on best practices.
- Collaborated with designers to create a visually appealing and user-friendly interface.

Tech Solutions Inc., Hong Kong \u2013 Frontend Engineer 2021 \u2013 2023 (2 years)
- Led the development of a new user dashboard feature using Vue 3 and TypeScript, resulting in a 15% increase in user engagement.
- Apply Pinia state management library to persist the application's global state.
- Implemented responsive designs using Tailwind CSS, ensuring optimal user experience across all devices.
- Wrote unit tests using Vitest and Jest, achieving 90% test coverage.
- Completed integration test cases with Cypress, achieving 95% test coverage.
- Optimized frontend performance by implementing lazy loading of images, improving initial page load times by 20%.

WebDev Innovations, Hong Kong \u2013 Junior Frontend Developer 2019 \u2013 2021 (2 years)
- Developed and maintained key features for a React-based e-commerce application, utilizing Redux for state management and Material-UI.
- Improved website accessibility by implementing ARIA attributes and adhering to WCAG guidelines.
- Assisted senior developers in debugging and resolving frontend issues.

Creative Digital Agency, Hong Kong \u2013 Frontend Developer Intern 2017 \u2013 2019 (2 years)
- Developed and implemented user interface components for client websites using HTML, CSS, and JavaScript.
- Gained experience with responsive web design principles and cross-browser compatibility testing.
- Contributed to the development of website templates using Bootstrap.
- Learned about version control using Git and collaborated on team projects using GitHub.    
`);candidateCv$=this.#e.asObservable();static \u0275fac=function(t){return new(t||e)};static \u0275prov=xe({token:e,factory:e.\u0275fac,providedIn:"root"})};var Ze=class e{service=A(Rt);isLoading=A(J).isLoading;#e=yi(this.service.candidateCv$,{initialValue:""});editableCv=L(this.#e());static \u0275fac=function(t){return new(t||e)};static \u0275cmp=B({type:e,selectors:[["app-cv-content"]],decls:4,vars:2,consts:[["for","cv"],["name","cv","id","cv",3,"ngModelChange","ngModel","disabled"]],template:function(t,i){t&1&&(m(0,"label",0),_(1,"CV:\xA0\xA0"),h(),m(2,"textarea",1),Z("ngModelChange",function(a){return X(i.editableCv,a)||(i.editableCv=a),a}),_(3,"    "),h()),t&2&&(p(2),Y("ngModel",i.editableCv),P("disabled",i.isLoading()))},dependencies:[Ie,Me,De,he],styles:["textarea[_ngcontent-%COMP%]{width:100%;height:20rem}"],changeDetection:0})};var{entries:tr,setPrototypeOf:Ki,isFrozen:Lo,getPrototypeOf:No,getOwnPropertyDescriptor:wo}=Object,{freeze:k,seal:G,create:nr}=Object,{apply:yn,construct:En}=typeof Reflect<"u"&&Reflect;k||(k=function(n){return n});G||(G=function(n){return n});yn||(yn=function(n,t,i){return n.apply(t,i)});En||(En=function(n,t){return new n(...t)});var kt=x(Array.prototype.forEach),Oo=x(Array.prototype.lastIndexOf),zi=x(Array.prototype.pop),Je=x(Array.prototype.push),Vo=x(Array.prototype.splice),Ft=x(String.prototype.toLowerCase),mn=x(String.prototype.toString),$i=x(String.prototype.match),et=x(String.prototype.replace),Ro=x(String.prototype.indexOf),ko=x(String.prototype.trim),j=x(Object.prototype.hasOwnProperty),R=x(RegExp.prototype.test),tt=xo(TypeError);function x(e){return function(n){for(var t=arguments.length,i=new Array(t>1?t-1:0),o=1;o<t;o++)i[o-1]=arguments[o];return yn(e,n,i)}}function xo(e){return function(){for(var n=arguments.length,t=new Array(n),i=0;i<n;i++)t[i]=arguments[i];return En(e,t)}}function u(e,n){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Ft;Ki&&Ki(e,null);let i=n.length;for(;i--;){let o=n[i];if(typeof o=="string"){let a=t(o);a!==o&&(Lo(n)||(n[i]=a),o=a)}e[o]=!0}return e}function Fo(e){for(let n=0;n<e.length;n++)j(e,n)||(e[n]=null);return e}function me(e){let n=nr(null);for(let[t,i]of tr(e))j(e,t)&&(Array.isArray(i)?n[t]=Fo(i):i&&typeof i=="object"&&i.constructor===Object?n[t]=me(i):n[t]=i);return n}function nt(e,n){for(;e!==null;){let i=wo(e,n);if(i){if(i.get)return x(i.get);if(typeof i.value=="function")return x(i.value)}e=No(e)}function t(){return null}return t}var Qi=k(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),gn=k(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),pn=k(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Po=k(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),_n=k(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),Uo=k(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Yi=k(["#text"]),Xi=k(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Cn=k(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Zi=k(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),xt=k(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Bo=G(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Go=G(/<%[\w\W]*|[\w\W]*%>/gm),Ho=G(/\$\{[\w\W]*/gm),jo=G(/^data-[\-\w.\u00B7-\uFFFF]+$/),Wo=G(/^aria-[\-\w]+$/),ir=G(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),qo=G(/^(?:\w+script|data):/i),Ko=G(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),rr=G(/^html$/i),zo=G(/^[a-z][.\w]*(-[.\w]+)+$/i),Ji=Object.freeze({__proto__:null,ARIA_ATTR:Wo,ATTR_WHITESPACE:Ko,CUSTOM_ELEMENT:zo,DATA_ATTR:jo,DOCTYPE_NAME:rr,ERB_EXPR:Go,IS_ALLOWED_URI:ir,IS_SCRIPT_OR_DATA:qo,MUSTACHE_EXPR:Bo,TMPLIT_EXPR:Ho}),it={element:1,attribute:2,text:3,cdataSection:4,entityReference:5,entityNode:6,progressingInstruction:7,comment:8,document:9,documentType:10,documentFragment:11,notation:12},$o=function(){return typeof window>"u"?null:window},Qo=function(n,t){if(typeof n!="object"||typeof n.createPolicy!="function")return null;let i=null,o="data-tt-policy-suffix";t&&t.hasAttribute(o)&&(i=t.getAttribute(o));let a="dompurify"+(i?"#"+i:"");try{return n.createPolicy(a,{createHTML(d){return d},createScriptURL(d){return d}})}catch{return console.warn("TrustedTypes policy "+a+" could not be created."),null}},er=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function or(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:$o(),n=c=>or(c);if(n.version="3.2.4",n.removed=[],!e||!e.document||e.document.nodeType!==it.document||!e.Element)return n.isSupported=!1,n;let{document:t}=e,i=t,o=i.currentScript,{DocumentFragment:a,HTMLTemplateElement:d,Node:y,Element:q,NodeFilter:ee,NamedNodeMap:gr=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:pr,DOMParser:_r,trustedTypes:ot}=e,Le=q.prototype,Cr=nt(Le,"cloneNode"),yr=nt(Le,"remove"),Er=nt(Le,"nextSibling"),vr=nt(Le,"childNodes"),st=nt(Le,"parentNode");if(typeof d=="function"){let c=t.createElement("template");c.content&&c.content.ownerDocument&&(t=c.content.ownerDocument)}let w,Ne="",{implementation:Pt,createNodeIterator:Ar,createDocumentFragment:br,getElementsByTagName:Mr}=t,{importNode:Dr}=i,O=er();n.isSupported=typeof tr=="function"&&typeof st=="function"&&Pt&&Pt.createHTMLDocument!==void 0;let{MUSTACHE_EXPR:Ut,ERB_EXPR:Bt,TMPLIT_EXPR:Gt,DATA_ATTR:Ir,ARIA_ATTR:Tr,IS_SCRIPT_OR_DATA:Sr,ATTR_WHITESPACE:In,CUSTOM_ELEMENT:Lr}=Ji,{IS_ALLOWED_URI:Tn}=Ji,M=null,Sn=u({},[...Qi,...gn,...pn,..._n,...Yi]),I=null,Ln=u({},[...Xi,...Cn,...Zi,...xt]),E=Object.seal(nr(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),we=null,Ht=null,Nn=!0,jt=!0,wn=!1,On=!0,ge=!1,Wt=!0,ce=!1,qt=!1,Kt=!1,pe=!1,at=!1,lt=!1,Vn=!0,Rn=!1,Nr="user-content-",zt=!0,Oe=!1,_e={},Ce=null,kn=u({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),xn=null,Fn=u({},["audio","video","img","source","image","track"]),$t=null,Pn=u({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),ct="http://www.w3.org/1998/Math/MathML",dt="http://www.w3.org/2000/svg",te="http://www.w3.org/1999/xhtml",ye=te,Qt=!1,Yt=null,wr=u({},[ct,dt,te],mn),ut=u({},["mi","mo","mn","ms","mtext"]),ft=u({},["annotation-xml"]),Or=u({},["title","style","font","a","script"]),Ve=null,Vr=["application/xhtml+xml","text/html"],Rr="text/html",D=null,Ee=null,kr=t.createElement("form"),Un=function(r){return r instanceof RegExp||r instanceof Function},Xt=function(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Ee&&Ee===r)){if((!r||typeof r!="object")&&(r={}),r=me(r),Ve=Vr.indexOf(r.PARSER_MEDIA_TYPE)===-1?Rr:r.PARSER_MEDIA_TYPE,D=Ve==="application/xhtml+xml"?mn:Ft,M=j(r,"ALLOWED_TAGS")?u({},r.ALLOWED_TAGS,D):Sn,I=j(r,"ALLOWED_ATTR")?u({},r.ALLOWED_ATTR,D):Ln,Yt=j(r,"ALLOWED_NAMESPACES")?u({},r.ALLOWED_NAMESPACES,mn):wr,$t=j(r,"ADD_URI_SAFE_ATTR")?u(me(Pn),r.ADD_URI_SAFE_ATTR,D):Pn,xn=j(r,"ADD_DATA_URI_TAGS")?u(me(Fn),r.ADD_DATA_URI_TAGS,D):Fn,Ce=j(r,"FORBID_CONTENTS")?u({},r.FORBID_CONTENTS,D):kn,we=j(r,"FORBID_TAGS")?u({},r.FORBID_TAGS,D):{},Ht=j(r,"FORBID_ATTR")?u({},r.FORBID_ATTR,D):{},_e=j(r,"USE_PROFILES")?r.USE_PROFILES:!1,Nn=r.ALLOW_ARIA_ATTR!==!1,jt=r.ALLOW_DATA_ATTR!==!1,wn=r.ALLOW_UNKNOWN_PROTOCOLS||!1,On=r.ALLOW_SELF_CLOSE_IN_ATTR!==!1,ge=r.SAFE_FOR_TEMPLATES||!1,Wt=r.SAFE_FOR_XML!==!1,ce=r.WHOLE_DOCUMENT||!1,pe=r.RETURN_DOM||!1,at=r.RETURN_DOM_FRAGMENT||!1,lt=r.RETURN_TRUSTED_TYPE||!1,Kt=r.FORCE_BODY||!1,Vn=r.SANITIZE_DOM!==!1,Rn=r.SANITIZE_NAMED_PROPS||!1,zt=r.KEEP_CONTENT!==!1,Oe=r.IN_PLACE||!1,Tn=r.ALLOWED_URI_REGEXP||ir,ye=r.NAMESPACE||te,ut=r.MATHML_TEXT_INTEGRATION_POINTS||ut,ft=r.HTML_INTEGRATION_POINTS||ft,E=r.CUSTOM_ELEMENT_HANDLING||{},r.CUSTOM_ELEMENT_HANDLING&&Un(r.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(E.tagNameCheck=r.CUSTOM_ELEMENT_HANDLING.tagNameCheck),r.CUSTOM_ELEMENT_HANDLING&&Un(r.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(E.attributeNameCheck=r.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),r.CUSTOM_ELEMENT_HANDLING&&typeof r.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(E.allowCustomizedBuiltInElements=r.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),ge&&(jt=!1),at&&(pe=!0),_e&&(M=u({},Yi),I=[],_e.html===!0&&(u(M,Qi),u(I,Xi)),_e.svg===!0&&(u(M,gn),u(I,Cn),u(I,xt)),_e.svgFilters===!0&&(u(M,pn),u(I,Cn),u(I,xt)),_e.mathMl===!0&&(u(M,_n),u(I,Zi),u(I,xt))),r.ADD_TAGS&&(M===Sn&&(M=me(M)),u(M,r.ADD_TAGS,D)),r.ADD_ATTR&&(I===Ln&&(I=me(I)),u(I,r.ADD_ATTR,D)),r.ADD_URI_SAFE_ATTR&&u($t,r.ADD_URI_SAFE_ATTR,D),r.FORBID_CONTENTS&&(Ce===kn&&(Ce=me(Ce)),u(Ce,r.FORBID_CONTENTS,D)),zt&&(M["#text"]=!0),ce&&u(M,["html","head","body"]),M.table&&(u(M,["tbody"]),delete we.tbody),r.TRUSTED_TYPES_POLICY){if(typeof r.TRUSTED_TYPES_POLICY.createHTML!="function")throw tt('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof r.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw tt('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');w=r.TRUSTED_TYPES_POLICY,Ne=w.createHTML("")}else w===void 0&&(w=Qo(ot,o)),w!==null&&typeof Ne=="string"&&(Ne=w.createHTML(""));k&&k(r),Ee=r}},Bn=u({},[...gn,...pn,...Po]),Gn=u({},[..._n,...Uo]),xr=function(r){let s=st(r);(!s||!s.tagName)&&(s={namespaceURI:ye,tagName:"template"});let l=Ft(r.tagName),C=Ft(s.tagName);return Yt[r.namespaceURI]?r.namespaceURI===dt?s.namespaceURI===te?l==="svg":s.namespaceURI===ct?l==="svg"&&(C==="annotation-xml"||ut[C]):!!Bn[l]:r.namespaceURI===ct?s.namespaceURI===te?l==="math":s.namespaceURI===dt?l==="math"&&ft[C]:!!Gn[l]:r.namespaceURI===te?s.namespaceURI===dt&&!ft[C]||s.namespaceURI===ct&&!ut[C]?!1:!Gn[l]&&(Or[l]||!Bn[l]):!!(Ve==="application/xhtml+xml"&&Yt[r.namespaceURI]):!1},K=function(r){Je(n.removed,{element:r});try{st(r).removeChild(r)}catch{yr(r)}},ht=function(r,s){try{Je(n.removed,{attribute:s.getAttributeNode(r),from:s})}catch{Je(n.removed,{attribute:null,from:s})}if(s.removeAttribute(r),r==="is")if(pe||at)try{K(s)}catch{}else try{s.setAttribute(r,"")}catch{}},Hn=function(r){let s=null,l=null;if(Kt)r="<remove></remove>"+r;else{let T=$i(r,/^[\r\n\t ]+/);l=T&&T[0]}Ve==="application/xhtml+xml"&&ye===te&&(r='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+r+"</body></html>");let C=w?w.createHTML(r):r;if(ye===te)try{s=new _r().parseFromString(C,Ve)}catch{}if(!s||!s.documentElement){s=Pt.createDocument(ye,"template",null);try{s.documentElement.innerHTML=Qt?Ne:C}catch{}}let S=s.body||s.documentElement;return r&&l&&S.insertBefore(t.createTextNode(l),S.childNodes[0]||null),ye===te?Mr.call(s,ce?"html":"body")[0]:ce?s.documentElement:S},jn=function(r){return Ar.call(r.ownerDocument||r,r,ee.SHOW_ELEMENT|ee.SHOW_COMMENT|ee.SHOW_TEXT|ee.SHOW_PROCESSING_INSTRUCTION|ee.SHOW_CDATA_SECTION,null)},Zt=function(r){return r instanceof pr&&(typeof r.nodeName!="string"||typeof r.textContent!="string"||typeof r.removeChild!="function"||!(r.attributes instanceof gr)||typeof r.removeAttribute!="function"||typeof r.setAttribute!="function"||typeof r.namespaceURI!="string"||typeof r.insertBefore!="function"||typeof r.hasChildNodes!="function")},Wn=function(r){return typeof y=="function"&&r instanceof y};function ne(c,r,s){kt(c,l=>{l.call(n,r,s,Ee)})}let qn=function(r){let s=null;if(ne(O.beforeSanitizeElements,r,null),Zt(r))return K(r),!0;let l=D(r.nodeName);if(ne(O.uponSanitizeElement,r,{tagName:l,allowedTags:M}),r.hasChildNodes()&&!Wn(r.firstElementChild)&&R(/<[/\w]/g,r.innerHTML)&&R(/<[/\w]/g,r.textContent)||r.nodeType===it.progressingInstruction||Wt&&r.nodeType===it.comment&&R(/<[/\w]/g,r.data))return K(r),!0;if(!M[l]||we[l]){if(!we[l]&&zn(l)&&(E.tagNameCheck instanceof RegExp&&R(E.tagNameCheck,l)||E.tagNameCheck instanceof Function&&E.tagNameCheck(l)))return!1;if(zt&&!Ce[l]){let C=st(r)||r.parentNode,S=vr(r)||r.childNodes;if(S&&C){let T=S.length;for(let F=T-1;F>=0;--F){let z=Cr(S[F],!0);z.__removalCount=(r.__removalCount||0)+1,C.insertBefore(z,Er(r))}}}return K(r),!0}return r instanceof q&&!xr(r)||(l==="noscript"||l==="noembed"||l==="noframes")&&R(/<\/no(script|embed|frames)/i,r.innerHTML)?(K(r),!0):(ge&&r.nodeType===it.text&&(s=r.textContent,kt([Ut,Bt,Gt],C=>{s=et(s,C," ")}),r.textContent!==s&&(Je(n.removed,{element:r.cloneNode()}),r.textContent=s)),ne(O.afterSanitizeElements,r,null),!1)},Kn=function(r,s,l){if(Vn&&(s==="id"||s==="name")&&(l in t||l in kr))return!1;if(!(jt&&!Ht[s]&&R(Ir,s))){if(!(Nn&&R(Tr,s))){if(!I[s]||Ht[s]){if(!(zn(r)&&(E.tagNameCheck instanceof RegExp&&R(E.tagNameCheck,r)||E.tagNameCheck instanceof Function&&E.tagNameCheck(r))&&(E.attributeNameCheck instanceof RegExp&&R(E.attributeNameCheck,s)||E.attributeNameCheck instanceof Function&&E.attributeNameCheck(s))||s==="is"&&E.allowCustomizedBuiltInElements&&(E.tagNameCheck instanceof RegExp&&R(E.tagNameCheck,l)||E.tagNameCheck instanceof Function&&E.tagNameCheck(l))))return!1}else if(!$t[s]){if(!R(Tn,et(l,In,""))){if(!((s==="src"||s==="xlink:href"||s==="href")&&r!=="script"&&Ro(l,"data:")===0&&xn[r])){if(!(wn&&!R(Sr,et(l,In,"")))){if(l)return!1}}}}}}return!0},zn=function(r){return r!=="annotation-xml"&&$i(r,Lr)},$n=function(r){ne(O.beforeSanitizeAttributes,r,null);let{attributes:s}=r;if(!s||Zt(r))return;let l={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:I,forceKeepAttr:void 0},C=s.length;for(;C--;){let S=s[C],{name:T,namespaceURI:F,value:z}=S,Re=D(T),V=T==="value"?z:ko(z);if(l.attrName=Re,l.attrValue=V,l.keepAttr=!0,l.forceKeepAttr=void 0,ne(O.uponSanitizeAttribute,r,l),V=l.attrValue,Rn&&(Re==="id"||Re==="name")&&(ht(T,r),V=Nr+V),Wt&&R(/((--!?|])>)|<\/(style|title)/i,V)){ht(T,r);continue}if(l.forceKeepAttr||(ht(T,r),!l.keepAttr))continue;if(!On&&R(/\/>/i,V)){ht(T,r);continue}ge&&kt([Ut,Bt,Gt],Yn=>{V=et(V,Yn," ")});let Qn=D(r.nodeName);if(Kn(Qn,Re,V)){if(w&&typeof ot=="object"&&typeof ot.getAttributeType=="function"&&!F)switch(ot.getAttributeType(Qn,Re)){case"TrustedHTML":{V=w.createHTML(V);break}case"TrustedScriptURL":{V=w.createScriptURL(V);break}}try{F?r.setAttributeNS(F,T,V):r.setAttribute(T,V),Zt(r)?K(r):zi(n.removed)}catch{}}}ne(O.afterSanitizeAttributes,r,null)},Fr=function c(r){let s=null,l=jn(r);for(ne(O.beforeSanitizeShadowDOM,r,null);s=l.nextNode();)ne(O.uponSanitizeShadowNode,s,null),qn(s),$n(s),s.content instanceof a&&c(s.content);ne(O.afterSanitizeShadowDOM,r,null)};return n.sanitize=function(c){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=null,l=null,C=null,S=null;if(Qt=!c,Qt&&(c="<!-->"),typeof c!="string"&&!Wn(c))if(typeof c.toString=="function"){if(c=c.toString(),typeof c!="string")throw tt("dirty is not a string, aborting")}else throw tt("toString is not a function");if(!n.isSupported)return c;if(qt||Xt(r),n.removed=[],typeof c=="string"&&(Oe=!1),Oe){if(c.nodeName){let z=D(c.nodeName);if(!M[z]||we[z])throw tt("root node is forbidden and cannot be sanitized in-place")}}else if(c instanceof y)s=Hn("<!---->"),l=s.ownerDocument.importNode(c,!0),l.nodeType===it.element&&l.nodeName==="BODY"||l.nodeName==="HTML"?s=l:s.appendChild(l);else{if(!pe&&!ge&&!ce&&c.indexOf("<")===-1)return w&&lt?w.createHTML(c):c;if(s=Hn(c),!s)return pe?null:lt?Ne:""}s&&Kt&&K(s.firstChild);let T=jn(Oe?c:s);for(;C=T.nextNode();)qn(C),$n(C),C.content instanceof a&&Fr(C.content);if(Oe)return c;if(pe){if(at)for(S=br.call(s.ownerDocument);s.firstChild;)S.appendChild(s.firstChild);else S=s;return(I.shadowroot||I.shadowrootmode)&&(S=Dr.call(i,S,!0)),S}let F=ce?s.outerHTML:s.innerHTML;return ce&&M["!doctype"]&&s.ownerDocument&&s.ownerDocument.doctype&&s.ownerDocument.doctype.name&&R(rr,s.ownerDocument.doctype.name)&&(F="<!DOCTYPE "+s.ownerDocument.doctype.name+`>
`+F),ge&&kt([Ut,Bt,Gt],z=>{F=et(F,z," ")}),w&&lt?w.createHTML(F):F},n.setConfig=function(){let c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Xt(c),qt=!0},n.clearConfig=function(){Ee=null,qt=!1},n.isValidAttribute=function(c,r,s){Ee||Xt({});let l=D(c),C=D(r);return Kn(l,C,s)},n.addHook=function(c,r){typeof r=="function"&&Je(O[c],r)},n.removeHook=function(c,r){if(r!==void 0){let s=Oo(O[c],r);return s===-1?void 0:Vo(O[c],s,1)[0]}return zi(O[c])},n.removeHooks=function(c){O[c]=[]},n.removeAllHooks=function(){O=er()},n}var vn=or();var Mn=1,ar=2,lr=4,cr=8,dr=16;function Yo(e){switch(e){case Mn:return"href";case ar:return"src";case lr:return"class";case cr:return"checked";case dr:return"start"}}var sr=24;function ur(e){let n=new Uint32Array(sr);return n[0]=1,{renderer:e,text:"",pending:"",tokens:n,len:0,token:1,fence_end:0,blockquote_idx:0,hr_char:"",hr_chars:0,fence_start:0,spaces:new Uint8Array(sr),indent:"",indent_len:0,table_state:0}}function fr(e){e.pending.length>0&&N(e,`
`)}function g(e){e.text.length!==0&&(console.assert(e.len>0,"Never adding text to root"),e.renderer.add_text(e.renderer.data,e.text),e.text="")}function v(e){console.assert(e.len>0,"No nodes to end"),e.len-=1,e.token=e.tokens[e.len],e.renderer.end_token(e.renderer.data)}function f(e,n){(e.tokens[e.len]===24||e.tokens[e.len]===23)&&n!==25&&v(e),e.len+=1,e.tokens[e.len]=n,e.token=n,e.renderer.add_token(e.renderer.data,n)}function Xo(e,n,t){for(;t<=e.len;){if(e.tokens[t]===n)return t;t+=1}return-1}function rt(e,n){for(;e.len>n;)v(e)}function An(e,n){let t=-1,i=-1;for(let o=e.blockquote_idx+1;o<=e.len;o+=1)if(e.tokens[o]===25){if(e.indent_len<e.spaces[o]){i=-1;break}i=o}else e.tokens[o]===n&&(t=o);return i===-1?t===-1?(rt(e,e.blockquote_idx),f(e,n),!0):(rt(e,t),!1):(rt(e,i),f(e,n),!0)}function bn(e,n){f(e,25),e.spaces[e.len]=e.indent_len+n,W(e),e.token=101}function W(e){e.indent="",e.indent_len=0,e.pending=""}function Dn(e){switch(e){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return!0;default:return!1}}function Zo(e){switch(e){case 32:case 58:case 59:case 41:case 44:case 33:case 46:case 63:case 93:case 10:return!0;default:return!1}}function Jo(e){return Dn(e)||Zo(e)}function N(e,n){for(let t of n){let i=e.pending+t;switch(e.token){case 21:case 1:case 20:case 24:case 23:switch(console.assert(e.text.length===0,"Root should not have any text"),e.pending[0]){case void 0:e.pending=t;continue;case" ":console.assert(e.pending.length===1),e.pending=t,e.indent+=" ",e.indent_len+=1;continue;case"	":console.assert(e.pending.length===1),e.pending=t,e.indent+="	",e.indent_len+=4;continue;case`
`:if(console.assert(e.pending.length===1),e.tokens[e.len]===25&&e.token===21){v(e),e.pending=t;continue}rt(e,e.blockquote_idx),e.blockquote_idx=0,e.fence_start=0,e.pending=t;continue;case"#":switch(t){case"#":if(e.pending.length<6){e.pending=i;continue}break;case" ":switch(e.pending.length){case 1:f(e,3),W(e);continue;case 2:f(e,4),W(e);continue;case 3:f(e,5),W(e);continue;case 4:f(e,6),W(e);continue;case 5:f(e,7),W(e);continue;case 6:f(e,8),W(e);continue}console.assert(!1,"Should not reach here")}break;case">":{let a=Xo(e,20,e.blockquote_idx+1);a===-1?(rt(e,e.blockquote_idx),e.blockquote_idx+=1,e.fence_start=0,f(e,20)):e.blockquote_idx=a,W(e),e.pending=t;continue}case"-":case"*":case"_":if(e.hr_chars===0&&(console.assert(e.pending.length===1,"Pending should be one character"),e.hr_chars=1,e.hr_char=e.pending),e.hr_chars>0){switch(t){case e.hr_char:e.hr_chars+=1,e.pending=i;continue;case" ":e.pending=i;continue;case`
`:if(e.hr_chars<3)break;e.renderer.add_token(e.renderer.data,22),e.renderer.end_token(e.renderer.data),e.pending="",e.hr_chars=0;continue}e.hr_chars=0}if(e.pending[0]!=="_"&&e.pending[1]===" "){An(e,23),bn(e,2),N(e,i.slice(2));continue}break;case"`":if(e.pending.length<3){if(t==="`"){e.pending=i,e.fence_start=i.length;continue}e.fence_start=0;break}switch(t){case"`":e.pending.length===e.fence_start?(e.pending=i,e.fence_start=i.length):(f(e,2),W(e),e.fence_start=0,N(e,i));continue;case`
`:f(e,10),e.pending.length>e.fence_start&&e.renderer.set_attr(e.renderer.data,lr,e.pending.slice(e.fence_start)),W(e);continue;default:e.pending=i;continue}case"+":if(t!==" ")break;An(e,23),bn(e,2);continue;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":if(e.pending[e.pending.length-1]==="."){if(t!==" ")break;An(e,24)&&e.pending!=="1."&&e.renderer.set_attr(e.renderer.data,dr,e.pending.slice(0,-1)),bn(e,e.pending.length+1);continue}else{let a=t.charCodeAt(0);if(a===46||Dn(a)){e.pending=i;continue}}break;case"|":f(e,27),f(e,28),e.pending="",N(e,t);continue}let o=i;if(e.token===21)e.token=e.tokens[e.len],e.renderer.add_token(e.renderer.data,21),e.renderer.end_token(e.renderer.data);else if(e.indent_len>=4){let a=0;for(;a<4;a+=1)if(e.indent[a]==="	"){a=a+1;break}o=e.indent.slice(a)+i,f(e,9)}else f(e,2);W(e),N(e,o);continue;case 27:if(e.table_state===1)switch(t){case"-":case" ":case"|":case":":e.pending=i;continue;case`
`:e.table_state=2,e.pending="";continue;default:v(e),e.table_state=0;break}else switch(e.pending){case"|":f(e,28),e.pending="",N(e,t);continue;case`
`:v(e),e.pending="",e.table_state=0,N(e,t);continue}break;case 28:switch(e.pending){case"":break;case"|":f(e,29),v(e),e.pending="",N(e,t);continue;case`
`:v(e),e.table_state=Math.min(e.table_state+1,2),e.pending="",N(e,t);continue;default:f(e,29),N(e,t);continue}break;case 29:if(e.pending==="|"){g(e),v(e),e.pending="",N(e,t);continue}break;case 9:switch(i){case`
    `:case`
   	`:case`
  	`:case`
 	`:case`
	`:e.text+=`
`,e.pending="";continue;case`
`:case`
 `:case`
  `:case`
   `:e.pending=i;continue;default:e.pending.length!==0?(g(e),v(e),e.pending=t):e.text+=t;continue}case 10:switch(t){case"`":e.pending=i;continue;case`
`:if(i.length===e.fence_start+e.fence_end+1){g(e),v(e),e.pending="",e.fence_start=0,e.fence_end=0;continue}break;case" ":if(e.pending.startsWith(`
`)){e.pending=i,e.fence_end+=1;continue}break}e.text+=e.pending,e.pending=t,e.fence_end=1;continue;case 11:switch(t){case"`":i.length===e.fence_start+ +(e.pending[0]===" ")?(g(e),v(e),e.pending="",e.fence_start=0):e.pending=i;continue;case`
`:e.text+=e.pending,e.pending="",e.token=21,e.blockquote_idx=0,g(e);continue;case" ":e.text+=e.pending,e.pending=t;continue;default:e.text+=i,e.pending="";continue}case 101:switch(e.pending.length){case 0:if(t!=="[")break;e.pending=i;continue;case 1:if(t!==" "&&t!=="x")break;e.pending=i;continue;case 2:if(t!=="]")break;e.pending=i;continue;case 3:if(t!==" ")break;e.renderer.add_token(e.renderer.data,26),e.pending[1]==="x"&&e.renderer.set_attr(e.renderer.data,cr,""),e.renderer.end_token(e.renderer.data),e.pending=" ";continue}e.token=e.tokens[e.len],e.pending="",N(e,i);continue;case 14:case 15:{let a="*",d=12;if(e.token===15&&(a="_",d=13),a===e.pending){if(g(e),a===t){v(e),e.pending="";continue}f(e,d),e.pending=t;continue}break}case 12:case 13:{let a="*",d=14;switch(e.token===13&&(a="_",d=15),e.pending){case a:a===t?e.tokens[e.len-1]===d?e.pending=i:(g(e),f(e,d),e.pending=""):(g(e),v(e),e.pending=t);continue;case a+a:let y=e.token;g(e),v(e),v(e),a!==t?(f(e,y),e.pending=t):e.pending="";continue}break}case 16:if(i==="~~"){g(e),v(e),e.pending="";continue}break;case 30:if(i==="\\]"||i==="$$"){g(e),v(e),e.pending="";continue}break;case 31:if(i==="\\)"||e.pending[0]==="$"){g(e),v(e),t===")"?e.pending="":e.pending=t;continue}break;case 100:i==="http://"||i==="https://"?(g(e),f(e,18),e.pending=i,e.text=i):"http:/"[e.pending.length]===t||"https:/"[e.pending.length]===t?e.pending=i:(e.token=e.tokens[e.len],N(e,t));continue;case 17:case 19:if(e.pending==="]"){g(e),t==="("?e.pending=i:(v(e),e.pending=t);continue}if(e.pending[0]==="]"&&e.pending[1]==="("){if(t===")"){let a=e.token===17?Mn:ar,d=e.pending.slice(2);e.renderer.set_attr(e.renderer.data,a,d),v(e),e.pending=""}else e.pending+=t;continue}break;case 18:t===" "||t===`
`||t==="\\"?(e.renderer.set_attr(e.renderer.data,Mn,e.pending),g(e),v(e),e.pending=t):(e.text+=t,e.pending=i);continue;case 102:if(i.startsWith("<br")){if(i.length===3||t===" "||t==="/"&&(i.length===4||e.pending[e.pending.length-1]===" ")){e.pending=i;continue}if(t===">"){g(e),e.token=e.tokens[e.len],e.renderer.add_token(e.renderer.data,21),e.renderer.end_token(e.renderer.data),e.pending="";continue}}e.token=e.tokens[e.len],e.text+="<",e.pending=e.pending.slice(1),N(e,t);continue}switch(e.pending[0]){case"\\":if(e.token===19||e.token===30||e.token===31)break;if(e.pending==="\\"){if(t==="("||t==="["){e.pending=i;continue}}else{i===`\\[
`?(g(e),f(e,30),e.pending=t):i==="\\( "||i.startsWith("\\(")?(g(e),f(e,31),e.pending=t):(e.text=i.slice(-2),e.pending="");continue}if(t===`
`)e.pending=t;else{let o=t.charCodeAt(0);e.pending="",e.text+=Dn(o)||o>=65&&o<=90||o>=97&&o<=122?i:t}continue;case`
`:if(e.token!==19&&e.token!==30&&e.token!==31){g(e),e.pending=t,e.token=21,e.blockquote_idx=0;continue}break;case"<":if(e.token!==19&&e.token!==30&&e.token!==31){g(e),e.pending=i,e.token=102;continue}break;case"`":if(e.token===19)break;t==="`"?(e.fence_start+=1,e.pending=i):(e.fence_start+=1,g(e),f(e,11),e.text=t===" "||t===`
`?"":t,e.pending="");continue;case"_":case"*":{if(e.token===19||e.token===30||e.token===31||e.token===14)break;let o=12,a=14,d=e.pending[0];if(d==="_"&&(o=13,a=15),e.pending.length===1){if(d===t){e.pending=i;continue}if(t!==" "&&t!==`
`){g(e),f(e,o),e.pending=t;continue}}else{if(d===t){g(e),f(e,a),f(e,o),e.pending="";continue}if(t!==" "&&t!==`
`){g(e),f(e,a),e.pending=t;continue}}break}case"~":if(e.token!==19&&e.token!==16){if(e.pending==="~"){if(t==="~"){e.pending=i;continue}}else if(t!==" "&&t!==`
`){g(e),f(e,16),e.pending=t;continue}}break;case"$":if(e.token!==19&&e.token!==16&&e.pending==="$")if(t==="$"){g(e),f(e,30),e.pending="";continue}else{if(Jo(t.charCodeAt(0)))break;g(e),f(e,31),e.pending=t;continue}break;case"[":if(e.token!==19&&e.token!==17&&e.token!==30&&e.token!==31&&t!=="]"){g(e),f(e,17),e.pending=t;continue}break;case"!":if(e.token!==19&&t==="["){g(e),f(e,19),e.pending="";continue}break;case" ":if(e.pending.length===1&&t===" ")continue;break}if(e.token!==19&&e.token!==17&&e.token!==30&&e.token!==31&&t==="h"&&(e.pending===" "||e.pending==="")){e.text+=e.pending,e.pending=t,e.token=100;continue}e.text+=e.pending,e.pending=t}g(e)}function hr(e){return{add_token:es,end_token:ts,add_text:ns,set_attr:is,data:{nodes:[e,,,,,],index:0}}}function es(e,n){let t=e.nodes[e.index],i;switch(n){case 1:return;case 20:i=document.createElement("blockquote");break;case 2:i=document.createElement("p");break;case 21:i=document.createElement("br");break;case 22:i=document.createElement("hr");break;case 3:i=document.createElement("h1");break;case 4:i=document.createElement("h2");break;case 5:i=document.createElement("h3");break;case 6:i=document.createElement("h4");break;case 7:i=document.createElement("h5");break;case 8:i=document.createElement("h6");break;case 12:case 13:i=document.createElement("em");break;case 14:case 15:i=document.createElement("strong");break;case 16:i=document.createElement("s");break;case 11:i=document.createElement("code");break;case 18:case 17:i=document.createElement("a");break;case 19:i=document.createElement("img");break;case 23:i=document.createElement("ul");break;case 24:i=document.createElement("ol");break;case 25:i=document.createElement("li");break;case 26:let o=i=document.createElement("input");o.type="checkbox",o.disabled=!0;break;case 9:case 10:t=t.appendChild(document.createElement("pre")),i=document.createElement("code");break;case 27:i=document.createElement("table");break;case 28:switch(t.children.length){case 0:t=t.appendChild(document.createElement("thead"));break;case 1:t=t.appendChild(document.createElement("tbody"));break;default:t=t.children[1]}i=document.createElement("tr");break;case 29:i=document.createElement(t.parentElement?.tagName==="THEAD"?"th":"td");break;case 30:i=document.createElement("equation-block");break;case 31:i=document.createElement("equation-inline");break}e.nodes[++e.index]=t.appendChild(i)}function ts(e){e.index-=1}function ns(e,n){e.nodes[e.index].appendChild(document.createTextNode(n))}function is(e,n,t){e.nodes[e.index].setAttribute(Yo(n),t)}var os=["answer"],ss=[[["","title",""]],[["","context",""]]],as=["[title]","[context]"];function ls(e,n){e&1&&_(0,"Ask a question")}var mr=class e{engine=se.required();systemPrompt=se.required();query=pt("");isLoading=A(J).isLoading;candidateCV=ai(Ze);answer=si.required("answer");systemPromptWithContext=fe(()=>{let n=this.candidateCV()?.editableCv()||"";return n?`${this.systemPrompt()}
      
The following is the context:

${n}
    `:this.systemPrompt()});messages=fe(()=>[{role:"system",content:this.systemPromptWithContext()},{role:"user",content:this.query()}]);async generateAnswer(){try{if(this.isLoading.set(!0),!this.engine()){console.log("Need to reload engine");return}let n=this.engine();await n.resetChat(),await this.#e(n)}finally{this.isLoading.set(!1)}}async#e(n){let t=this.answer().nativeElement;for(;t.lastChild;)t.removeChild(t.lastChild);let i=hr(t),o=ur(i),a=await n.chat.completions.create({messages:this.messages(),stream:!0});if(!a)return;let d="";for await(let y of a){let q=y.choices[0]?.delta?.content||"";if(d=d+q,vn.sanitize(d),vn.removed.length){fr(o),console.log("parser_end called");return}N(o,q)}}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=B({type:e,selectors:[["app-llm-response"]],contentQueries:function(t,i,o){t&1&&di(o,i.candidateCV,Ze,5),t&2&&rn()},viewQuery:function(t,i){t&1&&ui(i.answer,os,5),t&2&&rn()},inputs:{engine:[1,"engine"],systemPrompt:[1,"systemPrompt"],query:[1,"query"]},outputs:{query:"queryChange"},ngContentSelectors:as,decls:22,vars:5,consts:[["answer",""],["for","systemPrompt"],["id","systemPrompt","name","systemPrompt"],["for","query"],["id","query","name","query",3,"ngModelChange","ngModel","disabled"],[3,"click","disabled"],["for","answer"],[1,"answer"]],template:function(t,i){if(t&1){let o=vt();At(ss),m(0,"h3"),je(1,0,null,ls,1,0),h(),m(3,"div")(4,"label",1),_(5,"System Prompt:\xA0\xA0"),h(),m(6,"span",2),_(7),h()(),m(8,"div"),je(9,1),h(),m(10,"div")(11,"label",3),_(12,"Query:\xA0\xA0"),h(),m(13,"input",4),Z("ngModelChange",function(d){return Fe(o),X(i.query,d)||(i.query=d),Pe(d)}),h()(),bt(14),m(15,"button",5),H("click",function(){return Fe(o),Pe(i.generateAnswer())}),_(16),h(),m(17,"div")(18,"label",6),_(19,"Answer:\xA0\xA0"),h(),Et(20,"div",7,0),h()}if(t&2){p(7),ie(i.systemPrompt()),p(6),Y("ngModel",i.query),P("disabled",i.isLoading());let o=i.isLoading()?"Generating...":"Ask";p(2),P("disabled",i.isLoading()),p(),ie(o)}},dependencies:[Ie,Me,De,he],styles:["input#query[_ngcontent-%COMP%], .class[_ngcontent-%COMP%]{width:100%}input#query[_ngcontent-%COMP%]{padding:.5rem;border-radius:.25rem}label[_ngcontent-%COMP%]{display:block;margin-bottom:.25rem}"],changeDetection:0})};export{Ie as a,ws as b,Os as c,Vs as d,qi as e,Ze as f,mr as g};
